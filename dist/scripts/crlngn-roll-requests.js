var oe=Object.defineProperty;var V=T=>{throw TypeError(T)};var ne=(T,e,t)=>e in T?oe(T,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):T[e]=t;var L=(T,e,t)=>ne(T,typeof e!="symbol"?e+"":e,t),le=(T,e,t)=>e.has(T)||V("Cannot "+t);var H=(T,e,t)=>e.has(T)?V("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(T):e.set(T,t);var g=(T,e,t)=>(le(T,e,"access private method"),t);const N={INIT:"init",READY:"ready",RENDER_ROLL_RESOLVER:"renderRollResolver",USER_CONNECTED:"userConnected"},ie={READY:"socketlib.ready"},f={PRE_ROLL_V2:"dnd5e.preRollV2",PRE_ROLL_ABILITY_CHECK:"dnd5e.preRollAbilityCheck",PRE_ROLL_SAVING_THROW:"dnd5e.preRollSavingThrow",PRE_BEGIN_CONCENTRATING:"dnd5e.preBeginConcentrating",PRE_END_CONCENTRATION:"dnd5e.preEndConcentration",PRE_ROLL_CONCENTRATION_V2:"dnd5e.preRollConcentrationV2",PRE_ROLL_DEATH_SAVE_V2:"dnd5e.preRollDeathSaveV2",PRE_ROLL_SKILL_V2:"dnd5e.preRollSkillV2",PRE_ROLL_TOOL_CHECK_V2:"dnd5e.preRollToolCheckV2",PRE_ROLL_HIT_DIE_V2:"dnd5e.preRollHitDieV2",PRE_ROLL_CLASS_HIT_POINTS:"dnd5e.preRollClassHitPoints",PRE_ROLL_NPC_HIT_POINTS:"dnd5e.preRollNPCHitPoints",PRE_ROLL_INITIATIVE_DIALOG:"dnd5e.preRollInitiativeDialog",PRE_ROLL_INITIATIVE:"dnd5e.preRollInitiative",PRE_ROLL_ATTACK_V2:"dnd5e.preRollAttackV2",PRE_ROLL_DAMAGE_V2:"dnd5e.preRollDamageV2",PRE_ROLL_FORMULA_V2:"dnd5e.preRollFormulaV2",PRE_ROLL_RECHARGE_V2:"dnd5e.preRollRechargeV2",BUILD_ROLL_CONFIG:"dnd5e.buildRollConfig",POST_ROLL_CONFIG:"dnd5e.postRollConfiguration"},m="crlngn-roll-requests",v=["%cRoll That For Me","color:rgb(47, 151, 161); font-weight: bold;","|"],re={SKILL:{name:"skill"}},A=class A{static log(e="",t=[],s=!1){try{const a=game.settings.get(m,"debugMode")||A.debugOn;if(!(s||a))return;console.log(...v,e,...t)}catch{console.log(...v,e,...t)}}static warn(e="",t=[]){console.warn(...v,e,...t)}static error(e,t={ui:!1,console:!0,permanent:!1}){var s;t.ui&&((s=ui.notifications)==null||s.error(e,{localize:!0,permanent:t.permanent})),t.console&&console.error(...v,e)}};L(A,"debugOn",!1);let n=A;const q={checkbox:"checkbox"},w={client:"client",world:"world"},h=()=>({debugMode:{tag:"debug-mode",label:game.i18n.localize("CRLNGN_ROLLS.settings.debugMode.label"),hint:game.i18n.localize("CRLNGN_ROLLS.settings.debugMode.hint"),propType:Boolean,inputType:q.checkbox,default:!0,scope:w.client,config:!0},rollRequestsEnabled:{tag:"roll-requests-enabled",label:game.i18n.localize("CRLNGN_ROLLS.settings.rollRequestsEnabled.label"),hint:game.i18n.localize("CRLNGN_ROLLS.settings.rollRequestsEnabled.hint"),propType:Boolean,inputType:q.checkbox,default:!0,scope:w.world,config:!0}});class I{static getTargets(e){let t=game.users.find(a=>a.isGM===!0),s=e.targets||t.targets;return new Set([...s])}static getActorFromItem(e){const t=e.split(".")[1];return game.actors.get(t)}static isModuleOn(e){var s;const t=(s=game.modules)==null?void 0:s.get(e);return!!(t!=null&&t.active)}static isPrivateRoll(e){return e===CONST.DICE_ROLL_MODES.BLIND||e===CONST.DICE_ROLL_MODES.PRIVATE}static removeTemplateForItem(e){n.log("removeTemplateForItem - A",[e]);const t=S.get("remove-template");if(n.log("removeTemplateForItem - B",[t]),!t)return;const s=canvas.templates.objects.children.filter(a=>a.document.flags.dnd5e.item===(e==null?void 0:e.uuid));canvas.scene.deleteEmbeddedDocuments("MeasuredTemplate",s.map(a=>a.id))}static getUserFromActor(e){let t;if(!e)return null;const s=e?game.actors.get(e):null;return t=game.users.players.find(o=>o.active===!0&&o.character.id===e),t||game.users.players.forEach(o=>{o.active&&s.testUserPermission(o,foundry.CONST.DOCUMENT_OWNERSHIP_LEVELS.OWNER,{exact:!0})&&(t=o)}),n.log("getUserFromActor",[e,t]),t}static html(e,t){return e.querySelector(t)}}L(I,"getClientTargets",()=>{if(!game.user)return[];const e=Array.from(game.user.targets);return n.log("Selected Targets",[game.user.id,e,e.filter(t=>t.actor)]),e}),L(I,"getTargetDescriptors",()=>{var t,s;const e=new Map;for(const a of game.user.targets){const{name:o}=a,{img:c,system:d,uuid:u,statuses:r}=a.actor??{};if(u){const C=r.has("coverTotal")?null:(s=(t=d.attributes)==null?void 0:t.ac)==null?void 0:s.value;e.set(u,{name:o,img:c,uuid:u,ac:C??null})}}return Array.from(e.values())}),L(I,"findItemFromActor",(e,t,s)=>{const a=game.actors.get(e);if(n.log("findItemFromActor",[t,s]),!a)return null;let o=t?a.items.find(c=>c.id===t):null;return o||(o=s?a.items.find(c=>c.name.toLowerCase()===s.toLowerCase()):null,o||(o=a.items.find(c=>c.name.toLowerCase()===(s+" (Legacy)").toLowerCase()))),o}),L(I,"addCSSVars",(e,t)=>{let s=document.querySelector("#crlngn-chat-vars");if(!s){const O=document.querySelector("body");s=document.createElement("style"),s.id="crlngn-chat-vars",s.textContent=`body.crlngn-chat {
}
`,O.prepend(s)}let a=s.textContent,o=a.indexOf("body.crlngn-chat {"),c=a.indexOf("}",o);o===-1&&(a=`body.crlngn-chat {
}
`,o=0,c=a.indexOf("}"));const u=a.substring(o+18,c).split(";").map(O=>O.trim()).filter(O=>O!==""),r={};u.forEach(O=>{const P=O.split(":");if(P.length>=2){const y=P[0].trim(),_=P.slice(1).join(":").trim();y&&(r[y]=_)}}),e.includes("i18n")&&typeof t=="string"&&!t.startsWith('"')&&!t.startsWith("'")&&!t.match(/^url\(|^rgba?\(|^hsla?\(/)&&(t=`"${t}"`),r[e]=t;const C=Object.entries(r).map(([O,P])=>`  ${O}: ${P};`).join(`
`),E=a.substring(0,o)+`body.crlngn-chat {
`+C+`
}`+a.substring(c+1);s.textContent=E});const R=class R{static serializeForTransport(e,t=!1){return e==null||(t&&e.rolls&&Array.isArray(e.rolls)&&(e.rolls=e.rolls.map(s=>s instanceof Roll?s.toJSON():s)),n.log("ROLLS DATA",[e])),e}static deserializeFromTransport(e,t=!1){let s={};return e==null?e:(t&&e.rolls&&e.rolls.length>0&&(s={...e,rolls:e.rolls.map(a=>typeof a=="string"?Roll.fromJSON(a):Roll.fromJSON(JSON.stringify(a)))}),n.log("ROLLS RESULT",[s]),s)}};L(R,"socket"),L(R,"initialize",e=>{Hooks.once(ie.READY,()=>{if(n.log("Attempting to register module..."),typeof socketlib>"u"){n.error("SocketUtil Error: socketlib is not loaded. Ensure it is installed and enabled."),ui.notifications.error(game.i18n.localize("CRLNGN_ROLLS.notifications.socketlibMissing"),{permanent:!0});return}try{R.socket=socketlib.registerModule(m),e&&e(),n.log("SocketUtil | Module registered",[R.socket])}catch(t){n.log("Problem registering module",[t])}})}),L(R,"registerCall",(e,t)=>{R.socket?(R.socket.register(e,t),n.log("SocketUtil - Registered callback",[R.socket,e])):n.log("SocketUtil - Failed to register callback (socket not initialized)",[R.socket,e])}),L(R,"sendMessage",(e,t)=>{n.log("SocketUtil - sendMessage",[e]),t&&t()}),L(R,"execForGMs",async(e,...t)=>{if(!R.socket){n.log("SocketUtil - Socket not initialized. Cannot execute as GM.");return}return await R.socket.executeForAllGMs(e,...t)}),L(R,"execForAll",async(e,...t)=>{if(!R.socket){n.log("SocketUtil - Socket not initialized. Cannot execute for all clients.");return}return await R.socket.executeForEveryone(e,...t)}),L(R,"execForUser",async(e,t,...s)=>{if(!R.socket){n.log("SocketUtil - Socket not initialized. Cannot execute as user.");return}const a=await R.socket.executeAsUser(e,t,...s);return n.log("SocketUtil - Executed as user.",[a]),a});let b=R;var l,M,G,D,x,F,K,B,j,z,$,U,W,Y,J,Q,X,Z,ee,te,se,ae;const i=class i{static init(){Hooks.on(f.PRE_ROLL_V2,g(i,l,G)),Hooks.on(N.RENDER_ROLL_RESOLVER,g(i,l,ae)),Hooks.on(f.PRE_ROLL_ABILITY_CHECK,g(i,l,D)),Hooks.on(f.PRE_ROLL_SAVING_THROW,g(i,l,x)),Hooks.on(f.PRE_BEGIN_CONCENTRATING,g(i,l,F)),Hooks.on(f.PRE_END_CONCENTRATION,g(i,l,K)),Hooks.on(f.PRE_ROLL_CONCENTRATION_V2,g(i,l,B)),Hooks.on(f.PRE_ROLL_DEATH_SAVE_V2,g(i,l,j)),Hooks.on(f.PRE_ROLL_SKILL_V2,g(i,l,z)),Hooks.on(f.PRE_ROLL_TOOL_CHECK_V2,g(i,l,$)),Hooks.on(f.PRE_ROLL_HIT_DIE_V2,g(i,l,U)),Hooks.on(f.PRE_ROLL_CLASS_HIT_POINTS,g(i,l,W)),Hooks.on(f.PRE_ROLL_NPC_HIT_POINTS,g(i,l,Y)),Hooks.on(f.PRE_ROLL_INITIATIVE_DIALOG,g(i,l,J)),Hooks.on(f.PRE_ROLL_INITIATIVE,g(i,l,Q)),Hooks.on(f.PRE_ROLL_ATTACK_V2,g(i,l,X)),Hooks.on(f.PRE_ROLL_DAMAGE_V2,g(i,l,Z)),Hooks.on(f.PRE_ROLL_FORMULA_V2,g(i,l,ee)),Hooks.on(f.PRE_ROLL_RECHARGE_V2,g(i,l,te)),Hooks.on(f.BUILD_ROLL_CONFIG,g(i,l,M)),Hooks.on(f.POST_ROLL_CONFIG,g(i,l,se))}static injectRollRequestsToggle(){const e=h();document.querySelector("#chat-controls").insertAdjacentHTML("afterbegin",'<label class="chat-control-icon active" id="crlngn-request-toggle" data-tooltip-direction="LEFT"><i class="fas fa-bolt"></i></label>');const s=document.querySelector("#crlngn-request-toggle"),a=S.get(e.rollRequestsEnabled.tag);S.applyRollRequestsSetting(a),s.addEventListener("click",o=>{o.target.classList.toggle("active");const c=o.target.classList.contains("active");S.set(e.rollRequestsEnabled.tag,c)})}static registerSocketCalls(){b.registerCall(i.SOCKET_CALLS.triggerRollSkillV2,i.triggerRollSkillV2)}static getPlayerOwner(e){return game.users.find(t=>{var s;return((s=t.character)==null?void 0:s.id)===e})}};l=new WeakSet,M=function(e,t){var c,d,u,r,C;n.log("#onBuildRollConfig #1",[e,t]);const s=h();if(!S.get(s.rollRequestsEnabled.tag)||!e.config)return;const o=(u=(d=(c=e.config)==null?void 0:c.event)==null?void 0:d.target)==null?void 0:u.closest("button[data-action=rollRequest]");if(o){const E=Number(o.dataset.situational||0);e.config.situational=E,e.config.advantage=o.dataset.advantage==="true",e.config.disadvantage=o.dataset.disadvantage==="true",e.config.ability=o.dataset.ability,e.config.abilityId=o.dataset.ability,(C=(r=e.options)==null?void 0:r.window)!=null&&C.title&&o.dataset.flavor&&(e.options.window.title=o.dataset.flavor),e.data||(e.data={}),e.data.situational=E}if(e.config&&t.data&&t.data.situational!==void 0){const E=Number(t.data.situational);e.config.situational=E,e.data||(e.data={}),e.data.situational=E}if(t.parts&&e.config.situational&&!t.parts.includes("@situational")&&(t.parts.push("@situational"),t.data||(t.data={}),t.data.situational=e.config.situational),e.element&&e.element.length){const E=e.element.find('input[name="data.situational"]');E.length&&e.config.situational!==void 0&&E.val(e.config.situational)}if(e.element&&e.element.length){const E=e.element.find(".dice-formula");if(E.length){let O=E.text();e.config.situational&&!O.includes("@situational")&&(O+=" + @situational",E.text(O))}}return n.log("#onBuildRollConfig #2",[e.config,t]),e.element&&e.element.length&&setTimeout(()=>{e.render(!0)},0),e},G=function(e,t,s){var c,d,u;n.log("#onPreRollV2",[e,t,s]);const a=e.event.target.closest("button[data-action=rollRequest]");if(!a)return!0;const o=a.dataset.situational?Number(a.dataset.situational):void 0;e.advantage=a.dataset.advantage==="true",e.disadvantage=a.dataset.disadvantage==="true",e.ability=a.dataset.ability,e.abilityId=a.dataset.ability,e.situational=o,a.dataset.flavor&&(s.data.flavor=a.dataset.flavor,(c=t.options)!=null&&c.window&&(t.options.window.title=a.dataset.flavor)),o!==void 0&&(e.parts||(e.parts=[]),e.parts.includes("@situational")||e.parts.push("@situational")),e.rolls||(e.rolls=[]);for(const r of e.rolls)r.data||(r.data={}),r.data.flags||(r.data.flags={}),r.data.flags[m]={flavor:((u=(d=t.options)==null?void 0:d.window)==null?void 0:u.title)||s.data.flavor},r.data={flags:r.data.flags,situational:o,target:a.dataset.dc?Number(a.dataset.dc):void 0,ability:a.dataset.ability},n.log("#onPreRollV2 - roll",[r]);return!0},D=function(e){n.log("#onPreRollAbilityCheck",[e])},x=function(e){n.log("#onPreRollSavingThrow",[e])},F=function(e,t){n.log("#onPreBeginConcentrating",[e,t])},K=function(e,t){n.log("#onPreEndConcentration",[e,t])},B=function(e,t,s){n.log("#onPreRollConcentrationV2",[e,t,s])},j=function(e,t,s){n.log("#onPreRollDeathSaveV2",[e,t,s])},z=function(e,t,s){n.log("#onPreRollSkillV2",[e,t,s])},$=function(e,t,s){n.log("#onPreRollToolCheckV2",[e,t,s])},U=function(e,t,s){n.log("#onPreRollHitDieV2",[e,t,s])},W=function(e,t,s){n.log("#onPreRollClassHitPoints",[e,t,s])},Y=function(e,t){n.log("#onPreRollNPCHitPoints",[e,t])},J=function(e){n.log("#onPreRollInitiativeDialog",[e])},Q=function(e,t){n.log("#onPreRollInitiative",[e,t])},X=function(e,t,s){n.log("#onPreRollAttackV2",[e,t,s])},Z=function(e,t,s){n.log("#onPreRollDamageV2",[e,t,s])},ee=function(e,t,s){n.log("#onPreRollFormulaV2",[e,t,s])},te=function(e){n.log("#onPreRollRechargeV2",[e])},se=function(e,t,s,a){var E,O,P;if(!game.user.isGM)return;n.log("#onPostRollConfiguration",[e,t,s,a]);const o=t.subject instanceof dnd5e.dataModels.activity.BaseActivityData,c=t.hookNames[0].toLowerCase(),d=o?(E=t.subject)==null?void 0:E.actor:t.subject;if(!d)return;const u=d.hasPlayerOwner?I.getUserFromActor(d.id):null,r=e[0],C=r!=null&&r.data.situational?Number(r.data.situational):Number(t.situational||"");if(r&&(r.data.flags={...r.data.flags,[m]:{flavor:a.data.flavor}},u&&u!==game.user&&i.requestsEnabled))switch(c){case re.SKILL.name:{n.log("SocketUtil.execForUser",[u,t,s,a]);const y={skill:t.skill,subject:t.subject,ability:r.data.abilityId||t.ability,abilityId:r.data.abilityId||t.ability,advantage:r.hasAdvantage||!1,disadvantage:r.hasDisadvantage||!1,situational:C,flavor:a.data.flavor,target:17},_={data:{flavor:((P=(O=s.options)==null?void 0:O.window)==null?void 0:P.title)||a.data.flavor},speaker:{...a.speaker,alias:d.name},rollMode:a.rollMode};return b.execForUser(i.SOCKET_CALLS.triggerRollSkillV2,u.id,y,s,_),i.postRequestChatMessage(u,d,y,s,_),n.log("#onPostRollConfiguration - msg",[y,s,_]),!1}default:return}},ae=function(e,t){var o,c;n.log("#onRenderRollResolver",[e,t]);const s=d=>(d==null?void 0:d.method)==="pixels";if(e.fulfillable instanceof Map&&[...e.fulfillable.values()].some(s)){const d=e.roll,u=(c=(o=d==null?void 0:d.data)==null?void 0:o.flags)==null?void 0:c[m];u||(u={flavor:""}),t.classList.add("crlngn-rolls"),t.querySelector(".window-header .window-title").innerHTML=game.i18n.localize("CRLNGN_ROLLS.ui.forms.pixelsRollTitle");const r=document.createElement("div");r.classList.add("crlngn-resolver-title"),r.innerHTML=`<h1>${game.i18n.localize("CRLNGN_ROLLS.ui.forms.pixelsWaitingTitle")}</h1><br/>${u.flavor}`,t.querySelector(".standard-form").prepend(r)}},H(i,l),L(i,"requestsEnabled",!1),L(i,"SOCKET_CALLS",{receiveDiceConfig:"receiveDiceConfig",sendDiceConfig:"sendDiceConfig",triggerRollSkillV2:"triggerRollSkillV2"}),L(i,"diceConfig",{}),L(i,"playerDiceConfigs",{}),L(i,"postRequestChatMessage",async(e,t,s,a,o)=>{const c=s.situational!==void 0?Number(s.situational):0,d={...s,type:"skill",action:"rollRequest",visibility:e.id,target:t.uuid,dc:s.target,hideDC:!0,flavor:s.flavor,situational:c,parts:s.parts||[]};c&&!d.parts.includes("@situational")&&d.parts.push("@situational");const u=[{buttonLabel:dnd5e.enrichers.createRollLabel({...d,format:"short",icon:!0}),hiddenLabel:dnd5e.enrichers.createRollLabel({...d,format:"short",icon:!0,hideDC:!0}),dataset:d}];o.data.flavor=s.flavor,n.log("postRequestChatMessage",[o,d]);const r={user:e.id,content:await renderTemplate("systems/dnd5e/templates/chat/request-card.hbs",{buttons:u}),flavor:"GM has requested a roll",speaker:o.speaker};await ChatMessage.implementation.create(r)}),L(i,"triggerRollSkillV2",async(e,t,s)=>{const a=i.playerDiceConfigs[game.user.id];n.log("triggerRollSkillV2",[game.user,a==null?void 0:a.d20]);const o=game.actors.get(e.subject._id);if(!o||!(a!=null&&a.d20))return;if(s.data.flavor=e.flavor,!e.skill||!o){n.log("triggerRollSkillV2 - missing data",[e,t,s]);return}n.log("triggerRollSkillV2",[o,a.d20,e,t,s]);const c={...t,configure:!a.d20},d={...e,parts:e.parts||[]};e.situational&&!d.parts.includes("@situational")&&d.parts.push("@situational"),o.rollSkill(d,c,s)});let p=i;class S{static registerSettings(){const e=h();Object.entries(e).forEach(async s=>{const a=s[1];n.log("Registering... ",[s]);const o={name:a.label,hint:a.hint,default:a.default,type:a.propType,scope:a.scope,config:a.config,requiresReload:a.requiresReload||!1,onChange:c=>S.apply(a.tag,c)};a.choices&&(o.choices=a.choices),await game.settings.register(m,a.tag,o),S.get(a.tag)===void 0&&S.set(a.tag,a.default),n.log("registerSettings",[a.tag,S.get(a.tag)])})}static get(e,t=m){if(!e)return null;let s=!1;if(t===m)s=game.settings.get(t,e);else{let o=game.settings.storage.get("client")[`${t}.${e}`];o===void 0&&(o=game.settings.storage.get("world").getSetting(`${t}.${e}`),s=o==null?void 0:o.value),n.log("GET Setting",[o,s])}return s}static set(e,t,s=m){if(!e)return!1;let a=game.settings.storage.get("client")[`${s}.${e}`];a||(a=game.settings.storage.get("world").getSetting(`${s}.${e}`)),n.log("Setting",[e,a]);try{game.settings.set(s,e,t)}catch{n.log("Unable to change setting",[e,a])}return!0}static apply(e,t){const s=h();switch(e){case s.rollRequestsEnabled.tag:S.applyRollRequestsSetting(t);break}}static applyRollRequestsSetting(e){const t=h(),s=e!==void 0?e:S.get(t.rollRequestsEnabled.tag);p.requestsEnabled=s;const a=document.querySelector("#crlngn-request-toggle");if(!a)return;s===!1?a.classList.remove("active"):a.classList.add("active");const o=game.i18n.localize(a.classList.contains("active")?"CRLNGN_ROLLS.ui.buttons.rollRequestsToggleOn":"CRLNGN_ROLLS.ui.buttons.rollRequestsToggleOff");a.dataset.tooltip=o,game.tooltip&&game.tooltip.activate(a,{text:o}),n.log("Roll Requests Toggle",[s,a])}}class k{static init(){b.initialize(k.registerSocketCalls),Hooks.once(N.INIT,()=>{h(),n.log("Initiating module...",[],!0),S.registerSettings(),p.init()}),Hooks.once(N.READY,()=>{n.log("Core Ready",[]);const e=h();var t=S.get(e.debugMode.tag);t&&(CONFIG.debug.hooks=!0),game.user.isGM&&k.injectRollRequestsToggle(),game.user.isGM&&(Hooks.on(N.USER_CONNECTED,k.onUserConnected),game.users.forEach(s=>{k.onUserConnected(s)}))})}static onUserConnected(e){e.active&&e.id!==game.user.id&&(n.log("onUserConnected",[e]),b.execForUser(p.SOCKET_CALLS.sendDiceConfig,e.id))}static sendDiceConfig(){var s;if(!game.user||game.user.isGM)return;let t=game.settings.storage.get("client")["core.diceConfiguration"]||"";t=t||"",n.log("sendDiceConfig",[t]),b.execForGMs(p.SOCKET_CALLS.receiveDiceConfig,(s=game.user)==null?void 0:s.id,t)}static receiveDiceConfig(e,t){var s;(s=game.user)!=null&&s.isGM&&(p.playerDiceConfigs||(p.playerDiceConfigs={}),p.playerDiceConfigs[e]=JSON.parse(t)||{},n.log(`Received dice configuration from user ${e}`,[p.playerDiceConfigs]))}static registerSocketCalls(){b.registerCall(p.SOCKET_CALLS.triggerRollSkillV2,p.triggerRollSkillV2),b.registerCall(p.SOCKET_CALLS.sendDiceConfig,k.sendDiceConfig),b.registerCall(p.SOCKET_CALLS.receiveDiceConfig,k.receiveDiceConfig)}static injectRollRequestsToggle(){const e=h();document.querySelector("#chat-controls").insertAdjacentHTML("afterbegin",'<label class="chat-control-icon active" id="crlngn-request-toggle" data-tooltip-direction="LEFT"><i class="fas fa-bolt"></i></label>');const s=document.querySelector("#crlngn-request-toggle"),a=S.get(e.rollRequestsEnabled.tag);return S.applyRollRequestsSetting(a),s.addEventListener("click",o=>{o.target.classList.toggle("active");const c=o.target.classList.contains("active");S.set(e.rollRequestsEnabled.tag,c)}),s}}k.init();
//# sourceMappingURL=crlngn-roll-requests.js.map
